---
interface Props {
    className?: string
}

const { className } = Astro.props
---

<div class={`${className || ''} w-full flex justify-center my-8 mb`}>
    <!-- Container for showing shadow effect -->
    <div class="relative w-[90%] max-w-screen-sm border-solid border-2 border-black rounded-md">
        <form id="contact-form" action="" class="relative flex flex-col justify-center items-center w-full h-full py-10 bottom-2 right-2 border-solid border-2 border-black bg-purple-300 rounded-md">
            <h1 class="text-white text-xl font-medium mb-6">
                Contáctanos
            </h1>
            <!-- inputs container -->
            <section class="flex flex-col gap-2 w-[90%] mb-6">
                <label class="form-label w-ful flex justify-center">
                    <span class="hidden absolute mx-3 text-sm"></span>
                    <input type="text" id="name-control" name="name" class="form-control text-center rounded-md w-full" placeholder="Tu nombre">
                </label>
                <label class="form-label w-full flex justify-center">
                    <span class="hidden absolute mx-3 text-sm"></span>
                    <input type="email" id="email-control" name="email" class="form-control text-center rounded-md w-full" placeholder="Correo electrónico">
                </label class="w-ful">
                <label class="form-label w-full flex justify-center">
                    <span class="hidden absolute mx-3 text-sm"></span>
                    <input type="tel" id="phone-control" name="phone" class="form-control text-center rounded-md w-full" placeholder="Teléfono">
                </label class="w-ful">
                <label class="form-label w-full flex justify-center">
                    <span class="hidden absolute mx-3 text-sm"></span>
                    <input type="text" id="message-control" name="message" class="form-control text-center h-28 rounded-md w-full" placeholder="¿Qué nos quieres contar?">
                </label>
            </section>
            <!-- form actions -->
            <section>
                <button id='submit-button' type="submit" class="text-white bg-purple-500 w-36 h-10 rounded-md shadow-[5px_5px_0px_0px_#fce7f2] hover:shadow-none hover:bg-gray-800 transition-all hover:translate-x-1 hover:translate-y-1duration-300">
                    Enviar
                </button>
            </section>
        </form>
    </div>
</div>

<style>
    @keyframes animate-bouncing {
        from {
            margin-top: 0px;
        }

        50% {
            margin-top: 10px;
        }

        to {
            margin-top: 0px;
        }
    }

    .invalid {
        padding-top: 15px;
        border: 2px solid var(--error-color);
    }
    
    .form-label:has(.invalid) {
        animation: animate-bouncing 0.3s;
    }

    .form-label:has(.invalid) > span {
        display: block;
        color: var(--error-color);
    }
</style>

<script>
    import { handleSubmitForm } from "@utils/contactForm";
    handleSubmitForm()
</script>


